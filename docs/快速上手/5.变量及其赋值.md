# 变量及其赋值

## 一. 赋值语法

变量的基本赋值语法为:`变量名<-变量值`

例如:

```tex
[群]你好
A<-你好
B<-1
C<-hello world
D<-{"a":"1","b":"2","c":[1,2,3]}
E<-[1,2,3,4,{"a":"1","b":"2"}]
F<-///
你好
这是一个程序
///
```

D，E为JSON字符，他们会被解析为`结构`，供你获取。

F为字符串模板，使用这样的语法来将一个多行的字符串塞入一个变量中。

字符串模板需要和控制语句对齐，不然会抛错。

> 字符串模板支持输入变量，例如
>
> ```text
> A<-1
> 如果:{A}==1
>  A<-///{
>  "a":[{A}+1],
>  "b":2,
>  "c":3
>  }
>  ///
> {A}
> ```

## 二. 取值语法

变量的取值语法使用花括号，即:`{变量名}`

在上面的例子中：

`{A}`展示的是`你好`，B，C同理。

若要获取D中b的值，只需写入`{D.b}`。不出意外，执行结果是`2`

若要获取E中第一个元素的值，只需写入`{E(0)}`，不出意外，执行结果为`1`

:::tip

写入`{D}`会输出D代表的JSON字符串

:::

将上面的例子加入其中，得到下面的词库：

```text
[群]你好
A<-你好
B<-1
C<-hello world
D<-{"a":"1","b":"2","c":[1,2,3]}
E<-[1,2,3,4,{"a":"1","b":"2"}]
A的值为{A}\n
B的值为{B}\n
C的值为{C}\n
D的值为{D}\n
E的值为{E}\n
D中a元素的值为{D.a}\n
D中c元素的值为{D.c}\n
D中c元素的第一个元素为{D.c(0)}\n
E中第5个元素的a属性的值为{E(4).a}
```

> ### 取值语法的高级运用:
>
> 取值语法的变量名可以为花括号表达式，此时该语句的含义变为**将左侧表达式指向的值修改为右侧的计算结果，例如:**
>
> ```text
> [群]qwq
> A<-{"A":1,"B":2,"C":{"A":3,"B":4,"C":[1,2,3,4]},"D":[1,2,3,{"114":514}]}
> C<-qwq
> {A.D(3).114}<-{C}
> {A}\n
> {A.D(0)}<-{C}
> {A}\n
> {A.D}<-{C}
> {A}\n
> {A}<-{C}
> {A}\n
> ```
>
> 不出意外词库的运行结果为:
>
> ```text
> {"A":1,"B":2,"C":{"A":3,"B":4,"C":[1,2,3,4]},"D":[1,2,3,{"114":"qwq"}]}
> {"A":1,"B":2,"C":{"A":3,"B":4,"C":[1,2,3,4]},"D":["qwq",2,3,{"114":"qwq"}]}
> {"A":1,"B":2,"C":{"A":3,"B":4,"C":[1,2,3,4]},"D":"qwq"}
> qwq
> ```
